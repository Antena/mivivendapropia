<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title>Mi vivienda propia</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/tipsy.css" rel="stylesheet" type="text/css">
    <link href="/assets/css/style.less" rel="stylesheet/less" type="text/css">
    <link href="/assets/css/joyride-2.0.1.css" rel="stylesheet" type="text/css">

    <!-- shims -->
    <!--[if lt IE 9]>
    <script src="/assets/js/html5.js"></script>
    <![endif]-->

    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/jquery-inheritance.js"></script>
    <script src="/assets/js/jquery.tipsy.js"></script>
    <script src="/assets/js/bootstrap-tooltip.js"></script>
    <script src="/assets/js/bootstrap-button.js"></script>
    <script src="/assets/js/bootstrap-tab.js"></script>
    <script src="/assets/js/d3.v2.min.js"></script>
    <script src="/assets/js/jstat-1.0.0.min.js"></script>
    <script src="/assets/js/less-1.3.0.min.js"></script>
    <script src="/assets/js/jquery.joyride-2.0.1.js"></script>
    <script src="/assets/js/Database1.js"></script>
    <script src="/assets/js/familyIncome.js"></script>
    <script src="/assets/js/Model.js"></script>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">
</head>

<body>

<div id="content">
    <i class="icon-info-sign" id="help" title="Mostrar ayuda"></i>
    <div id="intro">
        <h2>Simulador de Accesso a la Vivienda Formal</h2>
        <h6>Probabilidad  estimada de poseer Vivienda Formal (0-100) de acuerdo a Características Socioeconómicas* </h6>
    </div>
    <div id="graph">
        <div id="legend">
            <ul>
                <li class="GBA">GBA</li>
                <li class="Pampeana">Pampeana</li>
                <li class="NOA" style="color: #f5f5f5;">NOA</li>
                <li class="NEA" style="color: #f5f5f5;">NEA</li>
                <li class="Cuyo" style="color: #f5f5f5;">Cuyo</li>
                <li class="Patagonia" style="color: #f5f5f5;">Patagonia</li>
            </ul>
        </div>
        <div id="plot"></div>
        <div id="labels">
            <div class="quintile1">Hogares de ingresos bajos</div>
            <div class="quintile3">Hogares de ingresos medios</div>
            <div class="quintile5">Hogares de altos ingresos</div>
        </div>

    </div>
    <div id="info">

        <ul id="myTab" class="nav nav-tabs">
            <li class="active">
                <a href="#members" data-toggle="tab" id="myFamilyTab">Grupo familiar</a>
            </li>
            <li>
                <a href="#head" data-toggle="tab" id="familyHeadTab">Jefe/a de familia</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane fade in active" id="members">
                <div>
                    <h3>Mi grupo familiar</h3>
                    <p>Arme su propio grupo familiar:</p>
                </div>
                <table id="family" class="table  table-striped table-condensed">
                    <thead>
                    <tr>
                        <th style="width: 7px;">#</th>
                        <th style="width: 35px;">Edad</th>
                        <th>Educación</th>
                        <th style="width: 65px;"></th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                    <tfoot>
                    <tr>
                        <th><i class="icon-plus-sign" id="addMember" rel="tooltip" title="Agregar un nuevo miembro"></i></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                    <tr id="familyIncomeRow">
                        <th colspan="3" style="text-align: left; padding-top: 10px;">Ingreso familiar total:</th>
                        <th colspan="2">
                            <span style="float: left; padding-top: 5px">$</span><input type="text" id="familyIncome" style="width: 45px" value="5000">
                        </th>
                    </tr>
                    </tfoot>
                </table>
            </div>

            <div class="tab-pane fade" id="head">
                <h3 style="line-height: 20px;">Características del jefe/a de hogar</h3>
                <p></p>

                <div class="btn-group migrant" data-toggle="buttons-radio" style="margin-bottom: 0px;">
                    <label>Nació en:</label>
                    <select class="select-full">
                        <option>La provincia donde vive</option>
                        <option class="migrant_int">Otro país, no limítrofe</option>
                        <option class="migrant_li">Algún país limítrofe</option>
                        <option class="migrant_pcia">En otra provincia</option>
                    </select>
                </div>

                <div class="btn-group informal" data-toggle="buttons-radio">
                    <label>¿Su trabajo es informal (no se realizan descuentos jubilatorios)?</label>
                    <button data-value="1" class="btn btn-small">Sí</button>
                    <button data-value="0" class="btn btn-small active">No</button>
                </div>

                <div class="btn-group self_emplo" data-toggle="buttons-radio">
                    <label>¿Es cuentapropista?</label>
                    <button data-value="1" class="btn btn-small">Sí</button>
                    <button data-value="0" class="btn btn-small active">No</button>
                </div>

                <div class="btn-group underwork" data-toggle="buttons-radio">
                    <label>¿Le gustaría trabajar más de lo que trabaja?</label>
                    <button data-value="1" class="btn btn-small">Sí</button>
                    <button data-value="0" class="btn btn-small active">No</button>
                </div>

                <div class="btn-group job_type" data-toggle="buttons-radio" style="margin-bottom: 0px;">
                    <label>¿Qué tipo de trabajo realiza?</label>
                    <select class="select-full">
                        <option class="professional">Profesional</option>
                        <option class="technical">Técnico</option>
                        <option class="operative">Operario</option>
                        <option class="unskilled">No Calificado</option>
                    </select>
                </div>

            </div>
        </div>
    </div>
    <div id="notes">
        <p>*&nbsp;Cita a nota tecnica: Goytia, Dorna...(2012)</p>
        <p>**&nbsp;Elaboración CIPUV en base a EPH 2003-2011 INDEC.</p>
        <p>***&nbsp;Los datos de la distribución del ingreso familiar surgen de la EPH para el segundo trimestre de 2011</p>
    </div>
</div>

<div id="variables" style="display: none;">
    <table class="table table-striped table-bordered table-condensed" style="width: 50%; margin: 0 auto; margin-bottom: 20px">
        <thead>
        <tr>
            <th style="width: 50%">Variable</th>
            <th>Valor</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>kids_under</td>
            <td class="kids_under">1</td>
        </tr>
        <tr>
            <td>hh_size_rec</td>
            <td class="hh_size_rec">4</td>
        </tr>
        <tr>
            <td>female_head</td>
            <td class="female_head">--</td>
        </tr>
        <tr>
            <td>no_spouse</td>
            <td class="no_spouse">0</td>
        </tr>
        <tr>
            <td>age_head</td>
            <td class="age_head">45</td>
        </tr>
        <tr>
            <td>primary1</td>
            <td class="primary1">0</td>
        </tr>
        <tr>
            <td>secondary1</td>
            <td class="secondary1">1</td>
        </tr>
        <tr>
            <td>superior</td>
            <td class="superior">0</td>
        </tr>
        <tr>
            <td>age_spouse</td>
            <td class="age_spouse">40</td>
        </tr>
        <tr>
            <td>primary_s1</td>
            <td class="primary_s1">0</td>
        </tr>
        <tr>
            <td>secondary_s1</td>
            <td class="secondary_s1">1</td>
        </tr>
        <tr>
            <td>superior_s</td>
            <td class="superior_s">0</td>
        </tr>
        <tr>
            <td>dependency</td>
            <td class="dependency">1/3</td>
        </tr>
        <tr>
            <td>informal</td>
            <td class="informal">--</td>
        </tr>
        <tr>
            <td>self_emplo</td>
            <td class="self_emplo">--</td>
        </tr>
        <tr>
            <td>underwork</td>
            <td class="underwork">--</td>
        </tr>
        <tr>
            <td>professional</td>
            <td class="professional">--</td>
        </tr>
        <tr>
            <td>technical</td>
            <td class="technical">--</td>
        </tr>
        <tr>
            <td>operative</td>
            <td class="operative">--</td>
        </tr>
        <tr>
            <td>migrant_int</td>
            <td class="migrant_int">--</td>
        </tr>
        <tr>
            <td>migrant_li</td>
            <td class="migrant_li">--</td>
        </tr>
        <tr>
            <td>migrant_pcia</td>
            <td class="migrant_pcia">--</td>
        </tr>

        </tbody>
    </table>
</div>

<!-- Tip Content -->
<ol id="joyRideTipContent">
    <li data-id="myFamilyTab" data-text="Continuar" class="step1">
        <h4>1. Arme su propio grupo familiar</h4>
        <p></p>
        <p>
            Agruegue miembros con <i class="icon-plus-sign"></i> y elimínelos con <i class="icon-minus-sign"></i>.<br/>
            El primer miembro de la lista es el jefe/a de familia.<br/>
            Marque con <i class="icon-heart"></i> al cónyuge (de haberlo).<br/>
            Elija la edad y el sexo (<i class="icon-male"></i> o <i class="icon-female"></i>) de los miembros del hogar y el nivel educativo del jefe/a y el cónyuge con <i class="icon-book"></i>.<br/>
        </p>
    </li>
    <li data-id="familyIncomeRow" data-text="Continuar" class="step2">
        <h4>2. Indique su ingreso familiar total</h4>
        <p></p>
        <p>Es decir, la suma de todos los ingresos mensuales de los miembros del grupo familiar.</p>
    </li>
    <li data-id="incomeLine" data-text="Continuar" class="step2a" data-options="tipLocation:left">
        <h4>Su ingreso equivalente</h4>
        <p></p>
        <p>Esta línea muestra cuál es su ingreso equivalente.</p>
    </li>
    <li data-id="familyHeadTab" data-text="Continuar" class="step3">
        <h4>3. ¿Cómo es el trabajo del jefe/a de hogar?</h4>
        <p></p>
        <p>Indique dónde nació el jefe/a y responda algunas preguntas sobre su trabajo.</p>
    </li>
    <li data-id="plot" data-text="Finalizar" class="step4" data-options="tipLocation:right">
        <h4>4. Mire los resultados</h4>
        <p></p>
        <p>Identifique en qué posición del gráfico se encontraría su grupo familiar. Modifique los valores indicados y vea cómo afecta en su probablidad.</p>
    </li>
</ol>

<script type="text/javascript">

    var model = null;

    $("#addMember").click(function() {
        model.addMember();
    }).tooltip({placement:'bottom'});

    $("#head .btn").change(function() {
        model.update();
    });

    $("#head select").change(function() {
        model.update();
    });


    $(function() {
        var family = [
            { age: 45, education: 3, head: true, spouse: false, sex: "male" },
            { age: 40, education: 2, head: false, spouse: true, sex: "female" },
            { age: 11, education: 1, head: false, spouse: false, sex: "male" },
            { age: 3, education: 0, head: false, spouse: false, sex: "female" }
        ];

        model = new Model(family, "family");

        var lines = model.getLines();

        for (var i=0; i<lines.length; i++) {
            $("#legend ." + lines[i].label).css("background-color", lines[i].color);
        }

        $("#familyIncome").change(function() {
            model.update();
        })
    });

    $(window).load(function() {
        $('#joyRideTipContent').joyride();
        $('#help').click(function() {
            $('#joyRideTipContent').joyride('restart');
        });
    });
</script>

</body>
</html>
